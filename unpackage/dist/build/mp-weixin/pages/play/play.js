(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/play/play"],{"0e44":function(t,e,i){},1245:function(t,e,i){"use strict";i.r(e);var s=i("ce4e"),o=i("8f4a");for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);i("e322");var a=i("2877"),l=Object(a["a"])(o["default"],s["a"],s["b"],!1,null,null,null);e["default"]=l.exports},"8f4a":function(t,e,i){"use strict";i.r(e);var s=i("d830"),o=i.n(s);for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);e["default"]=o.a},ce4e:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c},o=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return o})},d830:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=l(i("a34a")),o=i("2f62"),n=l(i("b39a")),a=i("2144");function l(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i,s,o,n,a){try{var l=t[n](a),r=l.value}catch(u){return void i(u)}l.done?e(r):Promise.resolve(r).then(s,o)}function u(t){return function(){var e=this,i=arguments;return new Promise(function(s,o){var n=t.apply(e,i);function a(t){r(n,s,o,a,l,"next",t)}function l(t){r(n,s,o,a,l,"throw",t)}a(void 0)})}}function _(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},s=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),s.forEach(function(e){p(t,e,i[e])})}return t}function p(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c={data:function(){return{loacal_avatarUrl_loc:"../../static/nobody.png",wuziqitips:[],mistakes_collection_list:[],mistakes_collection_newlist:[],fiveStone:null,winLoc:{whowin:0,whowin_title:"",start:null,end:null,width:null,angle:null},loc:null,data_flag:null,tips_group:{cuoti_num:0,cuoti_total_num:0,mulu_flag:null,show_tips_flag:!0,show_black_tips_flag:!0,get_tips_flag:!0,steps_limit:600,table_name:"",show_wrong_choice_flag:!1,show_right_choice_flag:!1,show_tips_last_flag:!1,show_dftx_flag:!1,double_undo_flag:!1,show_qiuzhu_flag:!1,show_restart_flag:!0,show_undo_flag:!0,show_find_duishou_flag:!1}}},computed:_({},(0,o.mapState)(["userInfo"])),onLoad:function(){var e=u(s.default.mark(function e(i){var o;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o=this,console.log("初始化棋盘"),o.fiveStone=new n.default(15,.98),o.fiveStone.setWinCallback(o.winCallback),o.loc=null,o.tips_group.mulu_flag=i.mulu_flag,console.log(o.tips_group.mulu_flag),e.next=9,this.get_storage_data("mistakes_collection","mistakes_collection_list");case 9:o.mistakes_collection_newlist=o.mistakes_collection_list.concat(),console.log("mistakes_collection_list_new",o.mistakes_collection_list_new),e.t0=i.mulu_flag,e.next="dplx_hykj"===e.t0?14:"dplx_pykj"===e.t0?20:"dplx_kjwb"===e.t0?26:"dpcs_hykj"===e.t0?31:"dpcs_pykj"===e.t0?37:"dpcs_kjwb"===e.t0?43:"dpcs_wdct"===e.t0?49:"bdms_srdy"===e.t0?61:"bdms_rjmspt"===e.t0?65:"bdms_rjmsdy"===e.t0?72:"ljms_hyyz"===e.t0?79:85;break;case 14:return o.tips_group.show_tips_last_flag=!0,o.tips_group.show_qiuzhu_flag=!0,o.tips_group.table_name="wzq_hy_data",o.fiveStone.changehistory("H8H9I9"),t.setNavigationBarTitle({title:"打谱练习-花月"}),e.abrupt("break",86);case 20:return o.tips_group.show_tips_last_flag=!0,o.tips_group.show_qiuzhu_flag=!0,o.tips_group.table_name="wzq_py_data",o.fiveStone.changehistory("H8I9I7"),t.setNavigationBarTitle({title:"打谱练习-蒲月"}),e.abrupt("break",86);case 26:return o.tips_group.show_tips_last_flag=!0,o.tips_group.table_name="wzq_kjwb_data",o.tips_group.steps_limit=11,t.setNavigationBarTitle({title:"打谱练习-开局五步"}),e.abrupt("break",86);case 31:return o.tips_group.show_tips_last_flag=!0,o.tips_group.show_black_tips_flag=!1,o.tips_group.table_name="wzq_hy_data",o.fiveStone.changehistory("H8H9I9"),t.setNavigationBarTitle({title:"打谱测试-花月"}),e.abrupt("break",86);case 37:return o.tips_group.show_tips_last_flag=!0,o.tips_group.show_black_tips_flag=!1,o.tips_group.table_name="wzq_py_data",o.fiveStone.changehistory("H8I9I7"),t.setNavigationBarTitle({title:"打谱测试-蒲月"}),e.abrupt("break",86);case 43:return o.tips_group.show_tips_last_flag=!0,o.tips_group.show_black_tips_flag=!1,o.tips_group.table_name="wzq_kjwb_data",o.tips_group.steps_limit=11,t.setNavigationBarTitle({title:"打谱测试-开局五步"}),e.abrupt("break",86);case 49:return o.tips_group.show_tips_last_flag=!0,o.tips_group.show_black_tips_flag=!0,o.tips_group.get_tips_flag=!1,o.tips_group.cuoti_total_num=o.mistakes_collection_list.length,o.winLoc.whowin=1,o.tips_group.cuoti_num=0,o.tips_group.show_restart_flag=!1,o.tips_group.show_undo_flag=!1,o.winLoc.whowin_title=o.tips_group.cuoti_num+1+"/"+o.tips_group.cuoti_total_num,o.fiveStone.changehistory(o.mistakes_collection_list[0].total_line),t.setNavigationBarTitle({title:"打谱测试-我的错题"}),e.abrupt("break",86);case 61:return o.tips_group.get_tips_flag=!1,o.tips_group.show_tips_flag=!1,t.setNavigationBarTitle({title:"双人本地对弈"}),e.abrupt("break",86);case 65:return o.tips_group.show_dftx_flag=1,o.tips_group.double_undo_flag=!0,o.tips_group.get_tips_flag=!1,o.tips_group.show_tips_flag=!1,o.fiveStone.changehistory("H8"),t.setNavigationBarTitle({title:"人机模式-普通"}),e.abrupt("break",86);case 72:return o.tips_group.show_dftx_flag=2,o.tips_group.double_undo_flag=!0,o.tips_group.get_tips_flag=!1,o.tips_group.show_tips_flag=!1,o.fiveStone.changehistory("H8"),t.setNavigationBarTitle({title:"人机模式-地狱"}),e.abrupt("break",86);case 79:return o.tips_group.show_dftx_flag=3,o.tips_group.get_tips_flag=!1,o.tips_group.show_tips_flag=!1,o.tips_group.show_find_duishou_flag=!0,t.setNavigationBarTitle({title:"巅峰对决"}),e.abrupt("break",86);case 85:return e.abrupt("break",86);case 86:o.tips_group.get_tips_flag&&o.get_tips(),o.$forceUpdate();case 88:case"end":return e.stop()}},e,this)}));function i(t){return e.apply(this,arguments)}return i}(),methods:_({},(0,o.mapMutations)(["settipslast","cuttipslast"]),{handleTip:function(t){this.fiveStone.canStep()&&(this.fiveStone.getStepPosition(t),this.loc=this.fiveStone.getStepLocation(t))},winCallback:function(t){this.winLoc.whowin=3-this.fiveStone.stone,1==this.winLoc.whowin&&(this.winLoc.whowin_title="黑胜"),2==this.winLoc.whowin&&(this.winLoc.whowin_title="白胜"),this.$forceUpdate(),this.fiveStone.preventStep()},buy_vip:function(e){t.showModal({title:"内测期间无需购买",showCancel:!1})},onChessBoardTouchStart:function(t){handleTip(t)},onChessBoardTouchMove:function(t){handleTip(t)},onChessBoardTouchEnd:function(){var e=u(s.default.mark(function e(i){var o,n,a,l,r,u,_,p,c,h;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o=this,o.handleTip(i),n=o.loc,o.fiveStone.history.length>o.tips_group.steps_limit&&(o.fiveStone.preventStep(),t.showModal({title:"",content:"五步训练最多只能走11步",showCancel:!1})),null==n){e.next=13;break}if(a=o.fiveStone.canStepAt(n.x,n.y),1!=o.fiveStone.chessBoardtips[n.x][n.y].stoneType&&0==o.tips_group.show_black_tips_flag&&1==o.fiveStone.stone){if(l="",r=o.fiveStone.history,r.length>0)for(u=0;u<r.length;u++)l+=o.upchangetoabc(r[u].x),l+=(15-r[u].y).toString();for(console.log(l),_=!1,p=0;p<15;p++)for(c=0;c<15;c++)0!=o.fiveStone.chessBoardtips[p][c].stoneType&&(_=!0);o.mistakes_collection_list[o.mistakes_collection_list.length-1]!=l&&_&&(o.mistakes_collection_list.push({total_line:l,tips:o.fiveStone.chessBoardtips}),t.setStorage({key:"mistakes_collection",data:o.mistakes_collection_list}),console.log(o.mistakes_collection_list)),o.tips_group.show_wrong_choice_flag=!0,setTimeout(function(){o.tips_group.show_wrong_choice_flag=!1},1e3)}if("dpcs_wdct"!=o.tips_group.mulu_flag){e.next=10;break}return 1!=o.mistakes_collection_list[o.tips_group.cuoti_num].tips[n.x][n.y].stoneType?(o.tips_group.show_wrong_choice_flag=!0,o.fiveStone.chessBoardtips=o.mistakes_collection_list[o.tips_group.cuoti_num].tips,setTimeout(function(){o.tips_group.cuoti_num+1<o.tips_group.cuoti_total_num?o.tips_group.cuoti_num++:(o.tips_group.cuoti_num=0,o.mistakes_collection_list=o.mistakes_collection_newlist.concat(),o.tips_group.cuoti_total_num=o.mistakes_collection_list.length),o.tips_group.show_wrong_choice_flag=!1,o.winLoc.whowin_title=o.tips_group.cuoti_num+1+"/"+o.tips_group.cuoti_total_num,o.fiveStone.changehistory(o.mistakes_collection_list[o.tips_group.cuoti_num].total_line),o.fiveStone.resetchessBoardtips()},4e3)):(o.tips_group.show_right_choice_flag=!0,console.log("delete_tips",o.tips_group.cuoti_num),o.mistakes_collection_newlist.splice(o.tips_group.cuoti_num,1),setTimeout(function(){if(o.tips_group.show_right_choice_flag=!1,o.tips_group.cuoti_num+1<o.tips_group.cuoti_total_num)o.tips_group.cuoti_num++;else if(o.tips_group.cuoti_num=0,o.mistakes_collection_list=o.mistakes_collection_newlist.concat(),o.tips_group.cuoti_total_num=o.mistakes_collection_list.length,0==o.tips_group.cuoti_total_num)return o.winLoc.whowin_title,o.fiveStone.changehistory("H8"),void o.fiveStone.resetchessBoardtips();o.winLoc.whowin_title=o.tips_group.cuoti_num+1+"/"+o.tips_group.cuoti_total_num,o.fiveStone.changehistory(o.mistakes_collection_list[o.tips_group.cuoti_num].total_line),t.setStorage({key:"mistakes_collection",data:o.mistakes_collection_newlist}),o.fiveStone.resetchessBoardtips()},1e3)),e.abrupt("return");case 10:o.fiveStone.step(n.x,n.y),this.tips_group.get_tips_flag&&a&&(o.get_tips(),o.$forceUpdate()),"bdms_rjmspt"==this.tips_group.mulu_flag&&1==this.fiveStone.stone&&(h=this.fiveStone.computerAI(1),o.fiveStone.step(parseInt(h["x"]),parseInt(h["y"])));case 13:case"end":return e.stop()}},e,this)}));function i(t){return e.apply(this,arguments)}return i}(),restart:function(){this.fiveStone.restart(),this.winLoc.whowin=0,this.winLoc.whowin_title="",this.winLoc.start=null,this.winLoc.end=null,this.tips_group.double_undo_flag&&this.fiveStone.changehistory("H8"),"dplx_hykj"==this.tips_group.mulu_flag&&this.fiveStone.changehistory("H8H9I9"),"dplx_pykj"==this.tips_group.mulu_flag&&this.fiveStone.changehistory("H8I9I7"),this.tips_group.get_tips_flag&&this.get_tips(),this.$forceUpdate()},undo:function(){this.fiveStone.undo(),this.tips_group.double_undo_flag&&this.fiveStone.undo(),this.winLoc.whowin=0,this.winLoc.whowin_title="",this.winLoc.start=null,this.winLoc.end=null,this.tips_group.get_tips_flag&&this.get_tips(),this.$forceUpdate()},get_tips:function(){var e=u(s.default.mark(function e(){var i,o,n,l,r,u,_,p,c,h,g,f,w=this;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=this,0!=i.userInfo.vip_flag){e.next=10;break}if(i.fiveStone.resetchessBoardtips(),1==i.userInfo.tips_last&&t.showModal({title:"说明",content:"今日提示步数已经用完,请前往购买vip获得全部功能",showCancel:!1}),!(i.userInfo.tips_last<1)){e.next=6;break}return e.abrupt("return");case 6:i.cuttipslast(),o=(new Date).getDate(),n=i.userInfo.tips_last+","+o,t.setStorage({key:"tips_last_time",data:n,success:function(){console.log("setdata_tips_last_time_success",n)}});case 10:if(!(0==i.tips_group.get_tips_flag||i.fiveStone.history.length>i.tips_group.steps_limit)){e.next=14;break}return console.log("超过五步限制或者不能获得提示"),i.fiveStone.resetchessBoardtips(),e.abrupt("return");case 14:if(l="",r="",u=i.fiveStone.history,_=0,0==u.length)l="none";else for(p=0;p<u.length;p++)l+=i.upchangetoabc(u[p].x),l+=(15-u[p].y).toString(),r+=i.upchangetoabc(u[p].x)+"-",r+=(15-u[p].y).toString()+"-",_+=1;if(console.log(l),i.fiveStone.resetchessBoardtips(),null!=a.tipsdic[l]){e.next=28;break}return c={form:"get_wzq_data",table_name:i.tips_group.table_name,total_line:l,total_line_char:r,step:_+1},e.next=25,i.download_from_server(c,"wuziqitips","data_flag");case 25:setTimeout(function(){return w.deal_with_data()},600),e.next=30;break;case 28:for(h=a.tipsdic[l][0],p=0;p<h.length;p++)g=i.downchangetoabc(h[p].substring(0,1)),f=15-parseInt(h[p].substring(1)),1==i.fiveStone.stone&&(i.fiveStone.chessBoardtips[g][f].stoneType=1,i.fiveStone.chessBoardtips[g][f].num=a.tipsdic[l][1][p]),2==i.fiveStone.stone&&(i.fiveStone.chessBoardtips[g][f].stoneType=2,i.fiveStone.chessBoardtips[g][f].num=a.tipsdic[l][1][p]);case 30:return e.abrupt("return",200);case 31:case"end":return e.stop()}},e,this)}));function i(){return e.apply(this,arguments)}return i}(),tap_jieshao:function(){t.navigateTo({url:"../jieshao/jieshao"})},gotozml:function(){t.reLaunch({url:"../index2/index2"})},deal_with_data:function(){var t=this,e="",i=[],s=[],o=this.fiveStone.history;if(o.length>0)for(var n=0;n<o.length;n++)e+=this.upchangetoabc(o[n].x),e+=(15-o[n].y).toString();if(null!=t.wuziqitips&&200==t.data_flag)for(var l=0;l<t.wuziqitips.length;l++){t.wuziqitips[l]["step"].length>1&&t.wuziqitips[l]["num"]>0&&(i.push(t.wuziqitips[l]["step"]),s.push(t.wuziqitips[l]["num"]));var r=t.downchangetoabc(t.wuziqitips[l]["step"].substring(0,1)),u=15-parseInt(t.wuziqitips[l]["step"].substring(1));1==t.fiveStone.stone&&r&&u&&(t.fiveStone.chessBoardtips[r][u].stoneType=1,t.fiveStone.chessBoardtips[r][u].num=t.wuziqitips[l]["num"],t.wuziqitips[l]["change_line"].length>4&&(t.fiveStone.chessBoardtips[r][u].stoneType=3)),2==t.fiveStone.stone&&r&&u&&(t.fiveStone.chessBoardtips[r][u].stoneType=2,t.fiveStone.chessBoardtips[r][u].num=t.wuziqitips[l]["num"],t.wuziqitips[l]["change_line"].length>4&&(t.fiveStone.chessBoardtips[r][u].stoneType=3))}else 300==t.data_flag&&(t.fiveStone.changehistory(t.wuziqitips[0]["change_line"]),setTimeout(function(){t.get_tips(),console.log("更改历史，重新获取")},400));null!=i[0]&&(console.log("insertarray1",i),a.tipsdic[e]=[i,s])},qiuzhu:function(){var e=u(s.default.mark(function e(){var i,o,n,l,r,u,_,p,c,h,g,f,w,d;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(i=[],o=0;o<15;o++)for(i[o]=[],n=0;n<15;n++)i[o][n]=0,1==this.fiveStone.chessBoard[o][n].stoneType&&(i[o][n]=1),2==this.fiveStone.chessBoard[o][n].stoneType&&(i[o][n]=2);if(t.showLoading({title:"计算中",mask:"true"}),l=this.fiveStone.deepthinkshuansha(this.fiveStone.stone,this.fiveStone.blackWin,this.fiveStone.whiteWin,i),t.hideLoading(),l.length>0){if(r="",u=[],_=[],p=this.fiveStone.history,p.length>0)for(o=0;o<p.length;o++)r+=this.upchangetoabc(p[o].x),r+=(15-p[o].y).toString();for(console.log(r),o=0;o<l.length;o++)c=l[o].split("|"),h=c[1].split("-"),g=h[0].split(","),f=this.upchangetoabc(g[0]),w=15-parseInt(g[1]),d=""+f+w,u.push(d),_.push(1234),console.log(d);a.tipsdic[r]=[u,_],this.get_tips()}else t.showToast({icon:"none",title:"未求出解"});case 6:case"end":return e.stop()}},e,this)}));function i(){return e.apply(this,arguments)}return i}()})};e.default=c}).call(this,i("543d")["default"])},e322:function(t,e,i){"use strict";var s=i("0e44"),o=i.n(s);o.a}},[["0276","common/runtime","common/vendor"]]]);